// Словарь уровня A0 английского языка
// accent: "UK" - британский, "US" - американский, "both" - общий

const A0_DICTIONARY = [
  // Приветствия и основные фразы
  {
    id: 1,
    en: "hello",
    ru: "привет",
    accent: "both",
    level: "A0",
    ipaUk: "/həˈləʊ/",
    ipaUs: "/həˈloʊ/",
    example: "Hello, Anna.",
    exampleRu: "Привет, Анна.",
  },
  {
    id: 2,
    en: "hi",
    ru: "привет",
    accent: "both",
    level: "A0",
    ipaUk: "/haɪ/",
    ipaUs: "/haɪ/",
    example: "Hi, Tom.",
    exampleRu: "Привет, Том.",
  },
  {
    id: 3,
    en: "goodbye",
    ru: "до свидания",
    accent: "both",
    level: "A0",
    ipaUk: "/ˌɡʊdˈbaɪ/",
    ipaUs: "/ˌɡʊdˈbaɪ/",
    example: "Goodbye, see you soon.",
    exampleRu: "До свидания, скоро увидимся.",
  },
  {
    id: 4,
    en: "bye",
    ru: "пока",
    accent: "both",
    level: "A0",
    ipaUk: "/baɪ/",
    ipaUs: "/baɪ/",
    example: "Bye, see you tomorrow.",
    exampleRu: "Пока, до завтра.",
  },
  {
    id: 5,
    en: "please",
    ru: "пожалуйста",
    accent: "both",
    level: "A0",
    ipaUk: "/pliːz/",
    ipaUs: "/pliz/",
    example: "Please sit down.",
    exampleRu: "Пожалуйста, садитесь.",
  },
  {
    id: 6,
    en: "thank you",
    ru: "спасибо",
    accent: "both",
    level: "A0",
    ipaUk: "/θæŋk juː/",
    ipaUs: "/θæŋk ju/",
    example: "Thank you for your help.",
    exampleRu: "Спасибо за помощь.",
  },
  {
    id: 7,
    en: "sorry",
    ru: "извините",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈsɒri/",
    ipaUs: "/ˈsɑːri/",
    example: "Sorry, I'm late.",
    exampleRu: "Извините, я опоздал.",
  },
  {
    id: 8,
    en: "yes",
    ru: "да",
    accent: "both",
    level: "A0",
    ipaUk: "/jes/",
    ipaUs: "/jes/",
    example: "Yes, I agree.",
    exampleRu: "Да, я согласен.",
  },
  {
    id: 9,
    en: "no",
    ru: "нет",
    accent: "both",
    level: "A0",
    ipaUk: "/nəʊ/",
    ipaUs: "/noʊ/",
    example: "No, thanks.",
    exampleRu: "Нет, спасибо.",
  },
  {
    id: 10,
    en: "okay",
    ru: "ок",
    accent: "both",
    level: "A0",
    ipaUk: "/ˌəʊˈkeɪ/",
    ipaUs: "/ˌoʊˈkeɪ/",
    example: "Okay, let's go.",
    exampleRu: "Хорошо, пошли.",
  },

  // Числа 1-10
  {
    id: 11,
    en: "one",
    ru: "один",
    accent: "both",
    level: "A0",
    ipaUk: "/wʌn/",
    ipaUs: "/wʌn/",
    example: "I have one apple.",
    exampleRu: "У меня одно яблоко.",
  },
  {
    id: 12,
    en: "two",
    ru: "два",
    accent: "both",
    level: "A0",
    ipaUk: "/tuː/",
    ipaUs: "/tuː/",
    example: "Two cats are here.",
    exampleRu: "Здесь две кошки.",
  },
  {
    id: 13,
    en: "three",
    ru: "три",
    accent: "both",
    level: "A0",
    ipaUk: "/θriː/",
    ipaUs: "/θriː/",
    example: "We see three birds.",
    exampleRu: "Мы видим трёх птиц.",
  },
  {
    id: 14,
    en: "four",
    ru: "четыре",
    accent: "both",
    level: "A0",
    ipaUk: "/fɔː/",
    ipaUs: "/fɔːr/",
    example: "She has four pens.",
    exampleRu: "У неё четыре ручки.",
  },
  {
    id: 15,
    en: "five",
    ru: "пять",
    accent: "both",
    level: "A0",
    ipaUk: "/faɪv/",
    ipaUs: "/faɪv/",
    example: "Five days a week.",
    exampleRu: "Пять дней в неделю.",
  },
  {
    id: 16,
    en: "six",
    ru: "шесть",
    accent: "both",
    level: "A0",
    ipaUk: "/sɪks/",
    ipaUs: "/sɪks/",
    example: "It is six o'clock.",
    exampleRu: "Сейчас шесть часов.",
  },
  {
    id: 17,
    en: "seven",
    ru: "семь",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈsevən/",
    ipaUs: "/ˈsevən/",
    example: "Seven people are here.",
    exampleRu: "Здесь семь человек.",
  },
  {
    id: 18,
    en: "eight",
    ru: "восемь",
    accent: "both",
    level: "A0",
    ipaUk: "/eɪt/",
    ipaUs: "/eɪt/",
    example: "We start at eight.",
    exampleRu: "Мы начинаем в восемь.",
  },
  {
    id: 19,
    en: "nine",
    ru: "девять",
    accent: "both",
    level: "A0",
    ipaUk: "/naɪn/",
    ipaUs: "/naɪn/",
    example: "Nine books on the table.",
    exampleRu: "На столе девять книг.",
  },
  {
    id: 20,
    en: "ten",
    ru: "десять",
    accent: "both",
    level: "A0",
    ipaUk: "/ten/",
    ipaUs: "/ten/",
    example: "Ten minutes, please.",
    exampleRu: "Десять минут, пожалуйста.",
  },

  // Цвета
  {
    id: 21,
    en: "red",
    ru: "красный",
    accent: "both",
    level: "A0",
    ipaUk: "/red/",
    ipaUs: "/red/",
    example: "The car is red.",
    exampleRu: "Машина красная.",
  },
  {
    id: 22,
    en: "blue",
    ru: "синий",
    accent: "both",
    level: "A0",
    ipaUk: "/bluː/",
    ipaUs: "/bluː/",
    example: "The sky is blue.",
    exampleRu: "Небо голубое.",
  },
  {
    id: 23,
    en: "green",
    ru: "зелёный",
    accent: "both",
    level: "A0",
    ipaUk: "/ɡriːn/",
    ipaUs: "/ɡriːn/",
    example: "The tree is green.",
    exampleRu: "Дерево зелёное.",
  },
  {
    id: 24,
    en: "black",
    ru: "чёрный",
    accent: "both",
    level: "A0",
    ipaUk: "/blæk/",
    ipaUs: "/blæk/",
    example: "My bag is black.",
    exampleRu: "Моя сумка чёрная.",
  },
  {
    id: 25,
    en: "white",
    ru: "белый",
    accent: "both",
    level: "A0",
    ipaUk: "/waɪt/",
    ipaUs: "/waɪt/",
    example: "The snow is white.",
    exampleRu: "Снег белый.",
  },

  // Семья
  {
    id: 26,
    en: "mother",
    ru: "мать",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈmʌðə/",
    ipaUs: "/ˈmʌðər/",
    example: "My mother is kind.",
    exampleRu: "Моя мама добрая.",
  },
  {
    id: 27,
    en: "father",
    ru: "отец",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈfɑːðə/",
    ipaUs: "/ˈfɑːðər/",
    example: "My father is at work.",
    exampleRu: "Мой папа на работе.",
  },
  {
    id: 28,
    en: "mum",
    ru: "мама",
    accent: "UK",
    level: "A0",
    ipaUk: "/mʌm/",
    ipaUs: "/mʌm/",
    example: "Mum is home.",
    exampleRu: "Мама дома.",
  },
  {
    id: 29,
    en: "mom",
    ru: "мама",
    accent: "US",
    level: "A0",
    ipaUk: "/mɒm/",
    ipaUs: "/mɑːm/",
    example: "Mom is here.",
    exampleRu: "Мама здесь.",
  },
  {
    id: 30,
    en: "sister",
    ru: "сестра",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈsɪstə/",
    ipaUs: "/ˈsɪstər/",
    example: "My sister is ten.",
    exampleRu: "Моей сестре десять.",
  },
  {
    id: 31,
    en: "brother",
    ru: "брат",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈbrʌðə/",
    ipaUs: "/ˈbrʌðər/",
    example: "My brother is tall.",
    exampleRu: "Мой брат высокий.",
  },

  // Еда и напитки
  {
    id: 32,
    en: "water",
    ru: "вода",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈwɔːtə/",
    ipaUs: "/ˈwɔːtər/",
    example: "I need water.",
    exampleRu: "Мне нужна вода.",
  },
  {
    id: 33,
    en: "tea",
    ru: "чай",
    accent: "both",
    level: "A0",
    ipaUk: "/tiː/",
    ipaUs: "/tiː/",
    example: "Tea is hot.",
    exampleRu: "Чай горячий.",
  },
  {
    id: 34,
    en: "coffee",
    ru: "кофе",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈkɒfi/",
    ipaUs: "/ˈkɔːfi/",
    example: "I drink coffee.",
    exampleRu: "Я пью кофе.",
  },
  {
    id: 35,
    en: "milk",
    ru: "молоко",
    accent: "both",
    level: "A0",
    ipaUk: "/mɪlk/",
    ipaUs: "/mɪlk/",
    example: "Milk is white.",
    exampleRu: "Молоко белое.",
  },
  {
    id: 36,
    en: "bread",
    ru: "хлеб",
    accent: "both",
    level: "A0",
    ipaUk: "/bred/",
    ipaUs: "/bred/",
    example: "This bread is fresh.",
    exampleRu: "Этот хлеб свежий.",
  },
  {
    id: 37,
    en: "apple",
    ru: "яблоко",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈæpəl/",
    ipaUs: "/ˈæpəl/",
    example: "An apple is on the table.",
    exampleRu: "На столе яблоко.",
  },
  {
    id: 38,
    en: "banana",
    ru: "банан",
    accent: "both",
    level: "A0",
    ipaUk: "/bəˈnɑːnə/",
    ipaUs: "/bəˈnænə/",
    example: "The banana is yellow.",
    exampleRu: "Банан жёлтый.",
  },
  {
    id: 39,
    en: "rice",
    ru: "рис",
    accent: "both",
    level: "A0",
    ipaUk: "/raɪs/",
    ipaUs: "/raɪs/",
    example: "We eat rice.",
    exampleRu: "Мы едим рис.",
  },
  {
    id: 40,
    en: "chicken",
    ru: "курица",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈtʃɪkɪn/",
    ipaUs: "/ˈtʃɪkɪn/",
    example: "Chicken is tasty.",
    exampleRu: "Курица вкусная.",
  },
  {
    id: 41,
    en: "fish",
    ru: "рыба",
    accent: "both",
    level: "A0",
    ipaUk: "/fɪʃ/",
    ipaUs: "/fɪʃ/",
    example: "Fish is healthy.",
    exampleRu: "Рыба полезна.",
  },
  {
    id: 42,
    en: "egg",
    ru: "яйцо",
    accent: "both",
    level: "A0",
    ipaUk: "/eɡ/",
    ipaUs: "/eɡ/",
    example: "I eat an egg.",
    exampleRu: "Я ем яйцо.",
  },

  // Дни недели
  {
    id: 43,
    en: "Monday",
    ru: "понедельник",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈmʌndeɪ/",
    ipaUs: "/ˈmʌndeɪ/",
    example: "It's Monday.",
    exampleRu: "Сегодня понедельник.",
  },
  {
    id: 44,
    en: "Tuesday",
    ru: "вторник",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈtjuːzdeɪ/",
    ipaUs: "/ˈtuːzdeɪ/",
    example: "Tuesday is busy.",
    exampleRu: "Вторник — занятой день.",
  },
  {
    id: 45,
    en: "Wednesday",
    ru: "среда",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈwenzdeɪ/",
    ipaUs: "/ˈwenzdeɪ/",
    example: "Wednesday is long.",
    exampleRu: "Среда длинная.",
  },
  {
    id: 46,
    en: "Thursday",
    ru: "четверг",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈθɜːzdeɪ/",
    ipaUs: "/ˈθɝːzdeɪ/",
    example: "Thursday is today.",
    exampleRu: "Четверг — сегодня.",
  },
  {
    id: 47,
    en: "Friday",
    ru: "пятница",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈfraɪdeɪ/",
    ipaUs: "/ˈfraɪdeɪ/",
    example: "Friday is fun.",
    exampleRu: "Пятница — весёлый день.",
  },
  {
    id: 48,
    en: "Saturday",
    ru: "суббота",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈsætədeɪ/",
    ipaUs: "/ˈsætərdeɪ/",
    example: "Saturday is free.",
    exampleRu: "Суббота свободна.",
  },
  {
    id: 49,
    en: "Sunday",
    ru: "воскресенье",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈsʌndeɪ/",
    ipaUs: "/ˈsʌndeɪ/",
    example: "Sunday is quiet.",
    exampleRu: "Воскресенье тихое.",
  },

  // Базовые слова
  {
    id: 50,
    en: "house",
    ru: "дом",
    accent: "both",
    level: "A0",
    ipaUk: "/haʊs/",
    ipaUs: "/haʊs/",
    example: "Our house is small.",
    exampleRu: "Наш дом маленький.",
  },
  {
    id: 51,
    en: "room",
    ru: "комната",
    accent: "both",
    level: "A0",
    ipaUk: "/ruːm/",
    ipaUs: "/ruːm/",
    example: "My room is clean.",
    exampleRu: "Моя комната чистая.",
  },
  {
    id: 52,
    en: "school",
    ru: "школа",
    accent: "both",
    level: "A0",
    ipaUk: "/skuːl/",
    ipaUs: "/skuːl/",
    example: "School starts at eight.",
    exampleRu: "Школа начинается в восемь.",
  },
  {
    id: 53,
    en: "book",
    ru: "книга",
    accent: "both",
    level: "A0",
    ipaUk: "/bʊk/",
    ipaUs: "/bʊk/",
    example: "This book is new.",
    exampleRu: "Эта книга новая.",
  },
  {
    id: 54,
    en: "chair",
    ru: "стул",
    accent: "both",
    level: "A0",
    ipaUk: "/tʃeə/",
    ipaUs: "/tʃer/",
    example: "The chair is blue.",
    exampleRu: "Стул синий.",
  },
  {
    id: 55,
    en: "table",
    ru: "стол",
    accent: "both",
    level: "A0",
    ipaUk: "/ˈteɪbəl/",
    ipaUs: "/ˈteɪbəl/",
    example: "The table is big.",
    exampleRu: "Стол большой.",
  },

  // Основные глаголы
  {
    id: 56,
    en: "be",
    ru: "быть",
    accent: "both",
    level: "A0",
    ipaUk: "/biː/",
    ipaUs: "/biː/",
    example: "I am happy.",
    exampleRu: "Я счастлив.",
  },
  {
    id: 57,
    en: "have",
    ru: "иметь",
    accent: "both",
    level: "A0",
    ipaUk: "/hæv/",
    ipaUs: "/hæv/",
    example: "I have a pen.",
    exampleRu: "У меня есть ручка.",
  },
  {
    id: 58,
    en: "go",
    ru: "идти",
    accent: "both",
    level: "A0",
    ipaUk: "/ɡəʊ/",
    ipaUs: "/ɡoʊ/",
    example: "We go home.",
    exampleRu: "Мы идём домой.",
  },
  {
    id: 59,
    en: "come",
    ru: "приходить",
    accent: "both",
    level: "A0",
    ipaUk: "/kʌm/",
    ipaUs: "/kʌm/",
    example: "Come here, please.",
    exampleRu: "Идите сюда, пожалуйста.",
  },
  {
    id: 60,
    en: "see",
    ru: "видеть",
    accent: "both",
    level: "A0",
    ipaUk: "/siː/",
    ipaUs: "/siː/",
    example: "I see a dog.",
    exampleRu: "Я вижу собаку.",
  },
  {
    id: 61,
    en: "look",
    ru: "смотреть",
    accent: "both",
    level: "A0",
    ipaUk: "/lʊk/",
    ipaUs: "/lʊk/",
    example: "Look at this.",
    exampleRu: "Посмотрите на это.",
  },
  {
    id: 62,
    en: "like",
    ru: "нравиться",
    accent: "both",
    level: "A0",
    ipaUk: "/laɪk/",
    ipaUs: "/laɪk/",
    example: "I like music.",
    exampleRu: "Мне нравится музыка.",
  },
  {
    id: 63,
    en: "want",
    ru: "хотеть",
    accent: "both",
    level: "A0",
    ipaUk: "/wɒnt/",
    ipaUs: "/wɑːnt/",
    example: "I want water.",
    exampleRu: "Я хочу воды.",
  },
  {
    id: 64,
    en: "eat",
    ru: "есть",
    accent: "both",
    level: "A0",
    ipaUk: "/iːt/",
    ipaUs: "/iːt/",
    example: "We eat rice.",
    exampleRu: "Мы едим рис.",
  },
  {
    id: 65,
    en: "drink",
    ru: "пить",
    accent: "both",
    level: "A0",
    ipaUk: "/drɪŋk/",
    ipaUs: "/drɪŋk/",
    example: "I drink tea.",
    exampleRu: "Я пью чай.",
  },
  {
    id: 66,
    en: "sleep",
    ru: "спать",
    accent: "both",
    level: "A0",
    ipaUk: "/sliːp/",
    ipaUs: "/sliːp/",
    example: "I sleep well.",
    exampleRu: "Я хорошо сплю.",
  },
  {
    id: 67,
    en: "play",
    ru: "играть",
    accent: "both",
    level: "A0",
    ipaUk: "/pleɪ/",
    ipaUs: "/pleɪ/",
    example: "Children play outside.",
    exampleRu: "Дети играют на улице.",
  },
  {
    id: 68,
    en: "read",
    ru: "читать",
    accent: "both",
    level: "A0",
    ipaUk: "/riːd/",
    ipaUs: "/riːd/",
    example: "I read a book.",
    exampleRu: "Я читаю книгу.",
  },
  {
    id: 69,
    en: "write",
    ru: "писать",
    accent: "both",
    level: "A0",
    ipaUk: "/raɪt/",
    ipaUs: "/raɪt/",
    example: "I write a note.",
    exampleRu: "Я пишу записку.",
  },
  {
    id: 70,
    en: "work",
    ru: "работать",
    accent: "both",
    level: "A0",
    ipaUk: "/wɜːk/",
    ipaUs: "/wɝːk/",
    example: "I work today.",
    exampleRu: "Я работаю сегодня.",
  },
];

// Функции для работы со словарём
function getDictionary() {
  return A0_DICTIONARY;
}

// Получить слова по акценту
function getWordsByAccent(accent) {
  if (accent === "both") {
    return A0_DICTIONARY;
  }
  return A0_DICTIONARY.filter((word) => word.accent === accent || word.accent === "both");
}

// Получить случайные слова для упражнения (все слова)
function getRandomWords(count, accent = "both") {
  const words = getWordsByAccent(accent);
  const shuffled = [...words].sort(() => Math.random() - 0.5);
  return shuffled.slice(0, Math.min(count, words.length));
}

// Получить случайные слова для игр: исключаются слова, изученные по обоим трекам (100% начинающий + опытный)
function getRandomWordsForGame(count, accent = "both") {
  try {
    if (typeof getUserWordProgress !== "function") {
      return getRandomWords(count, accent);
    }
    const progress = getUserWordProgress();
    if (!progress) return getRandomWords(count, accent);

    const available = getWordsByAccent(accent).filter((w) => {
      const p = progress[w.id];
      if (typeof p === "number") return p < 100;
      return typeof isWordLearned === "function" ? !isWordLearned(w.id) : true;
    });

    if (available.length === 0) return getRandomWords(count, accent);
    const shuffled = [...available].sort(() => Math.random() - 0.5);
    return shuffled.slice(0, Math.min(count, shuffled.length));
  } catch (error) {
    console.error("Ошибка в getRandomWordsForGame:", error);
    return getRandomWords(count, accent);
  }
}

// Найти слово по английскому тексту
function findWordByEnglish(text) {
  return A0_DICTIONARY.find((word) => word.en.toLowerCase() === text.toLowerCase());
}

// Найти слово по русскому тексту
function findWordByRussian(text) {
  return A0_DICTIONARY.find((word) => word.ru.toLowerCase() === text.toLowerCase());
}
